!function(exports){"use strict";var movvizApp=angular.module("movvizApp",["ngRoute","movvizControllers"]);movvizApp.config(["$routeProvider",function($routeProvider){$routeProvider.when("/movies/:page?",{templateUrl:"partial/movie-list",controller:"MovvizListCtrl"}).when("/movie/:id?",{templateUrl:"partial/movie-detail",controller:"MovvizDetailCtrl"}).otherwise({redirectTo:"/movies"})}])}(window),function(exports){"use strict";var movvizControllers=angular.module("movvizControllers",[]);movvizControllers.controller("MovvizListCtrl",["$scope","$http","$routeParams",function($scope,$http,$routeParams){$scope.movies=[];$http.get("/api/movies/"+$routeParams.page).success(function(data,status,headers,config){$scope.movies=data.movies,$scope.currentPage=data.pagination.currentPage,$scope.totalPages=data.pagination.totalPages}).error(function(data,status,headers,config){console.log("error")}),$scope.range=function(){var rangeSize=10,ret=[],start=Math.max(0,Math.ceil($scope.currentPage-rangeSize/2));start>$scope.totalPages-rangeSize&&(start=$scope.totalPages-rangeSize);for(var i=start;start+rangeSize-1>i;i++)ret.push(i);return ret},$scope.prevPageDisabled=function(){return $scope.currentPage?"":"disabled"},$scope.nextPageDisabled=function(){return $scope.currentPage===$scope.totalPages-1?"disabled":""}}]),movvizControllers.controller("MovvizDetailCtrl",["$scope","$http","$routeParams",function($scope,$http,$routeParams){$http.get("/api/movie/"+$routeParams.id).success(function(data,status,headers,config){$scope.movie=data}).error(function(data,status,headers,config){console.log("error")})}])}(window);
//# sourceMappingURL=movviz.min.js.map